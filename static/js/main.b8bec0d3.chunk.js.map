{"version":3,"sources":["models/Products.ts","reportWebVitals.ts","components/App.tsx","models/PricingRules.ts","models/Checkout.ts","index.tsx"],"names":["ProductID","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","products","CLASSIC","name","description","price","STAND_OUT","PREMIUM","customerList","App","checkout","useState","customer","setCustomer","items","setItems","total","setTotal","onAddAd","evt","id","currentTarget","add","onRemoveAd","remove","useEffect","clear","className","value","onChange","map","item","data-testid","filter","length","onClick","toFixed","n4mDeal","n","m","numOfItems","Math","floor","pricingRules","getPrice","productId","numOfProducts","this","push","idx","indexOf","splice","find","rule","numOfClassicAd","numOfStandOutAd","numOfPremiumAd","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8bec0d3.chunk.js","sourcesContent":["export enum ProductID {\n  CLASSIC = 'classic',\n  STAND_OUT = 'standout',\n  PREMIUM = 'premium'\n};\n\nconst products = {\n  [ProductID.CLASSIC]: {\n    name: 'Classic Ad',\n    description: 'Offers the most basic level of advertisement',\n    price: 269.99\n  },\n  [ProductID.STAND_OUT]: {\n    name: 'Stand out Ad',\n    description: 'Allows advertisers to use a company logo and use a longer presentation text',\n    price: 322.99\n  },\n  [ProductID.PREMIUM]: {\n    name: 'Premium Ad',\n    description: 'Same benefits as Standout Ad, but also puts the advertisement at the top of the results, allowing higher visibility',\n    price: 394.99\n  }\n};\n\nexport default products;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Checkout } from '../models/Checkout';\nimport { ProductID } from '../models/Products';\n\nconst customerList = [\n  'default',\n  'SecondBite',\n  'Axil Coffee Roasters',\n  'MYER'\n];\n\ninterface AppProps {\n  checkout: Checkout;\n};\n\nconst App: React.FC<AppProps> = ({ checkout }) => {\n  const [customer, setCustomer] = useState('default');\n  const [items, setItems] = useState(checkout.items);\n  const [total, setTotal] = useState(0);\n\n  const onChangeCustomer = (evt: React.ChangeEvent<HTMLSelectElement>) => {\n    setCustomer(evt.currentTarget.value);\n  }\n\n  const onAddAd = (evt: React.MouseEvent<HTMLButtonElement>) => {\n    const id = evt.currentTarget.id as ProductID;\n    checkout.add(id);\n    setItems([...checkout.items]);\n  };\n\n  const onRemoveAd = (evt: React.MouseEvent<HTMLButtonElement>) => {\n    const id = evt.currentTarget.id as ProductID;\n    checkout.remove(id);\n    setItems([...checkout.items]);\n  };\n\n  useEffect(() => {\n    checkout.clear();\n    checkout.add(ProductID.CLASSIC);\n    checkout.add(ProductID.STAND_OUT);\n    checkout.add(ProductID.PREMIUM);\n    setItems([...checkout.items]);\n  }, [checkout]);\n  \n  useEffect(() => {\n    setTotal(checkout.total(customer));\n  }, [checkout, customer, items]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"content\">\n        <div className=\"row\">Customer:\n          <select value={customer} onChange={onChangeCustomer}>\n            {customerList.map(item => <option key={item} value={item}>{item}</option>)}\n          </select>\n        </div>\n        <div className=\"row\">\n          <label>Classic Ad:</label>\n          <span data-testid=\"classic-number\" className=\"value\">\n            {items.filter(item => item === ProductID.CLASSIC).length}\n          </span>\n          <button data-testid=\"add-classic-btn\" id={ProductID.CLASSIC} onClick={onAddAd}>+</button>\n          <button data-testid=\"remove-classic-btn\" id={ProductID.CLASSIC} onClick={onRemoveAd}>-</button>\n        </div>\n        <div className=\"row\">\n          <label>Stand out Ad:</label>\n          <span className=\"value\">\n            {items.filter(item => item === ProductID.STAND_OUT).length}\n          </span>\n          <button id={ProductID.STAND_OUT} onClick={onAddAd}>+</button>\n          <button id={ProductID.STAND_OUT} onClick={onRemoveAd}>-</button>\n        </div>\n        <div className=\"row\">\n          <label>Premium Ad:</label>\n          <span className=\"value\">\n            {items.filter(item => item === ProductID.PREMIUM).length}\n          </span>\n          <button id={ProductID.PREMIUM} onClick={onAddAd}>+</button>\n          <button id={ProductID.PREMIUM} onClick={onRemoveAd}>-</button>\n        </div>\n        <div className=\"row\">\n          Total: $<span data-testid=\"total\">{total.toFixed(2)}</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import products, { ProductID } from './Products';\n\nexport type PricingRule = {\n  customer: string;\n  getPrice: (productId: ProductID, numOfProducts: number) => number;\n}\n\nconst defaultRule: PricingRule = {\n  customer: 'default',\n  getPrice: (productId: ProductID, numOfProducts: number) => {\n    return numOfProducts * products[productId].price;\n  }\n};\n\nconst specialRules: PricingRule[] = [\n  {\n    customer: 'SecondBite',\n    getPrice: (productId: ProductID, numOfProducts: number) => {\n      switch (productId) {\n        // 3 for 2​ deal on ​Classic Ads\n        case ProductID.CLASSIC:\n          return n4mDeal(3, 2, numOfProducts) * products[productId].price;\n        default:\n          return numOfProducts * products[productId].price;\n      }\n    }\n  },\n  {\n    customer: 'Axil Coffee Roasters',\n    getPrice: (productId: ProductID, numOfProducts: number) => {\n      switch (productId) {\n        // Discount on ​Stand out Ads​\n        case ProductID.STAND_OUT:\n          return numOfProducts * 299.99;\n        default:\n          return numOfProducts * products[productId].price;\n      }\n    }\n  },\n  {\n    customer: 'MYER',\n    getPrice: (productId: ProductID, numOfProducts: number) => {\n      switch (productId) {\n        // 5​ for 4​ deal on ​Stand out Ads\n        case ProductID.STAND_OUT:\n          return n4mDeal(5, 4, numOfProducts) * products[productId].price;\n\n        // Discount on ​Stand out Ads​\n        case ProductID.PREMIUM:\n          return numOfProducts * 389.99;\n        default:\n          return numOfProducts * products[productId].price;\n      }\n    }\n  }\n];\n\nconst pricingRules: PricingRule[] = [\n  defaultRule,\n  ...specialRules\n];\n\nfunction n4mDeal(n: number, m: number, numOfItems: number) {\n  return (Math.floor(numOfItems / n) * m) + (numOfItems % n);\n}\n\nexport default pricingRules;\n","import { ProductID } from './Products';\nimport pricingRules, { PricingRule } from './PricingRules';\n\nexport class Checkout {\n\n  items: ProductID[] = [];\n\n  constructor(private pricingRules: PricingRule[]) {}\n\n  add(item: ProductID) {\n    this.items.push(item);\n  }\n\n  remove(item: ProductID) {\n    const idx = this.items.indexOf(item);\n    if (idx !== -1) {\n      this.items.splice(idx, 1);\n    }\n  }\n\n  clear() {\n    this.items = [];\n  }\n\n  total(customer: string = 'default') {\n    const getPrice = (\n      this.pricingRules.find(rule => rule.customer === customer)?.getPrice ||\n      this.pricingRules.find(rule => rule.customer === 'default')!.getPrice\n    );\n    const numOfClassicAd = this.items.filter(item => item === ProductID.CLASSIC).length;\n    const numOfStandOutAd = this.items.filter(item => item === ProductID.STAND_OUT).length;\n    const numOfPremiumAd = this.items.filter(item => item === ProductID.PREMIUM).length;\n    return (\n      getPrice(ProductID.CLASSIC, numOfClassicAd) +\n      getPrice(ProductID.STAND_OUT, numOfStandOutAd) +\n      getPrice(ProductID.PREMIUM, numOfPremiumAd)\n    );\n  }\n}\n\nexport default new Checkout(pricingRules);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nimport App from './components/App';\nimport checkout from './models/Checkout';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App checkout={checkout} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}